{"ast":null,"code":"var _jsxFileName = \"/Users/nishant/Desktop/sledgeNew/Test/frontend/src/pages/Distributors/distributorProducts.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { Pencil, Trash2, PlusCircle, Eye, AlertTriangle, Package, X } from \"lucide-react\";\nimport API from \"../../api\";\nimport { useAuth } from \"../../components/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DistributorProducts() {\n  _s();\n  var _products$active, _products$active2;\n  const {\n    user\n  } = useAuth();\n  const distributorId = user === null || user === void 0 ? void 0 : user._id;\n  const [active, setActive] = useState(\"Groceries\");\n  const [products, setProducts] = useState({});\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [showViewModal, setShowViewModal] = useState(false);\n  const [editProduct, setEditProduct] = useState(null);\n  const [viewProduct, setViewProduct] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const distributorships = [\"Groceries\", \"Beverages\", \"Personal Care\"];\n\n  // Fetch products from the backend\n  const fetchProducts = useCallback(async () => {\n    if (!distributorId) return;\n    setLoading(true);\n    setError(\"\");\n    try {\n      const response = await API.get(\"/products\", {\n        params: {\n          distributorId\n        }\n      });\n      const groupedProducts = response.data.reduce((acc, product) => {\n        const category = product.category || 'Uncategorized';\n        acc[category] = acc[category] || [];\n        acc[category].push(product);\n        return acc;\n      }, {});\n      setProducts(groupedProducts);\n    } catch (error) {\n      console.error(\"Error fetching products:\", error);\n      setError(\"Failed to fetch products. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  }, [distributorId]);\n  useEffect(() => {\n    fetchProducts();\n  }, [fetchProducts]);\n  const handleAddProduct = async product => {\n    var _product$name;\n    if (!((_product$name = product.name) !== null && _product$name !== void 0 && _product$name.trim())) {\n      setError(\"Product name is required\");\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(\"\");\n\n      // Generate unique product ID\n      const productId = Date.now();\n\n      // Generate SKUs for variants that don't have them\n      const variantsWithSKU = product.variants.map((variant, index) => ({\n        ...variant,\n        id: variant.id || Date.now() + index,\n        sku: variant.sku || `${productId}-VAR-${index + 1}`,\n        expiry: variant.expiry || 'N/A',\n        stock: Number(variant.stock) || 0,\n        sellingPrice: Number(variant.sellingPrice) || 0,\n        costPrice: Number(variant.costPrice) || 0\n      }));\n      const response = await API.post(\"/products\", {\n        ...product,\n        id: productId,\n        user: user,\n        distributorships: [active],\n        category: active,\n        variants: variantsWithSKU\n      });\n      setProducts(prev => ({\n        ...prev,\n        [active]: [...(prev[active] || []), response.data]\n      }));\n      setShowAddModal(false);\n    } catch (error) {\n      console.error(\"Error adding product:\", error);\n      setError(\"Failed to add product. Please check all required fields.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleEditProduct = async updated => {\n    var _updated$name;\n    if (!((_updated$name = updated.name) !== null && _updated$name !== void 0 && _updated$name.trim())) {\n      setError(\"Product name is required\");\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(\"\");\n\n      // Ensure all variants have required fields\n      const updatedVariants = updated.variants.map(variant => ({\n        ...variant,\n        sku: variant.sku || `${updated.id}-VAR-${variant.id}`,\n        expiry: variant.expiry || 'N/A',\n        stock: Number(variant.stock) || 0,\n        sellingPrice: Number(variant.sellingPrice) || 0,\n        costPrice: Number(variant.costPrice) || 0\n      }));\n      const response = await API.put(`/products/${updated._id}`, {\n        ...updated,\n        distributorId,\n        distributorships: [active],\n        variants: updatedVariants\n      });\n      setProducts(prev => {\n        var _prev$active;\n        return {\n          ...prev,\n          [active]: ((_prev$active = prev[active]) === null || _prev$active === void 0 ? void 0 : _prev$active.map(p => p._id === updated._id ? response.data : p)) || []\n        };\n      });\n      setShowEditModal(false);\n      setEditProduct(null);\n    } catch (error) {\n      console.error(\"Error updating product:\", error);\n      setError(\"Failed to update product. Please check all required fields.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDelete = async id => {\n    if (!window.confirm(\"Are you sure you want to delete this product?\")) return;\n    try {\n      setLoading(true);\n      setError(\"\");\n      await API.delete(`/products/${id}`);\n      setProducts(prev => {\n        var _prev$active2;\n        return {\n          ...prev,\n          [active]: ((_prev$active2 = prev[active]) === null || _prev$active2 === void 0 ? void 0 : _prev$active2.filter(p => p._id !== id)) || []\n        };\n      });\n    } catch (error) {\n      console.error(\"Error deleting product:\", error);\n      setError(\"Failed to delete product. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getTotalStock = variants => {\n    return (variants || []).reduce((sum, variant) => sum + (Number(variant.stock) || 0), 0);\n  };\n  const getPriceRange = variants => {\n    if (!(variants !== null && variants !== void 0 && variants.length)) return \"₹0\";\n    const prices = variants.map(v => Number(v.sellingPrice) || 0).filter(p => p > 0);\n    if (!prices.length) return \"₹0\";\n    const min = Math.min(...prices);\n    const max = Math.max(...prices);\n    return min === max ? `₹${min}` : `₹${min} - ₹${max}`;\n  };\n  const getLowStockVariants = variants => {\n    return (variants || []).filter(v => (Number(v.stock) || 0) <= 10);\n  };\n  const closeModals = () => {\n    setShowAddModal(false);\n    setShowEditModal(false);\n    setShowViewModal(false);\n    setEditProduct(null);\n    setViewProduct(null);\n  };\n  if (!distributorId) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-600\",\n        children: \"Please log in to manage products.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 max-w-7xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-blue-800\",\n        children: \"Product Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600 bg-blue-50 px-3 py-1 rounded-full\",\n        children: [\"Total Products: \", ((_products$active = products[active]) === null || _products$active === void 0 ? void 0 : _products$active.length) || 0]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(\"\"),\n        className: \"text-red-700 hover:text-red-900\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap gap-3 mb-6\",\n      children: distributorships.map(name => {\n        var _products$name;\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActive(name),\n          className: `px-5 py-2 rounded-full border-2 transition-all duration-200 font-medium ${active === name ? \"bg-blue-700 text-white border-blue-700 shadow-lg\" : \"bg-white text-blue-700 border-blue-200 hover:bg-blue-50\"}`,\n          children: [name, \" (\", ((_products$name = products[name]) === null || _products$name === void 0 ? void 0 : _products$name.length) || 0, \")\"]\n        }, name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-2 text-gray-600\",\n        children: \"Loading products...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-lg overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gradient-to-r from-blue-600 to-blue-700 text-white\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-4 text-left font-semibold\",\n                children: \"Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-4 text-left font-semibold\",\n                children: \"Total Stock\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-4 text-left font-semibold\",\n                children: \"Price Range\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-4 text-left font-semibold\",\n                children: \"Variants\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-4 text-left font-semibold\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-4 text-right font-semibold\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"divide-y divide-gray-200\",\n            children: (_products$active2 = products[active]) !== null && _products$active2 !== void 0 && _products$active2.length ? products[active].map((product, index) => {\n              var _product$variants, _product$variants2;\n              const lowStockVariants = getLowStockVariants(product.variants);\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: `hover:bg-blue-50 transition-colors ${index % 2 === 0 ? 'bg-gray-50' : 'bg-white'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-2xl\",\n                      children: product.icon\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 270,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"font-semibold text-gray-900\",\n                        children: product.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 272,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-sm text-gray-500\",\n                        children: [\"ID: \", product.id]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 273,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 271,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Package, {\n                      size: 18,\n                      className: \"text-gray-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 279,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: getTotalStock(product.variants)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 font-semibold text-green-600\",\n                  children: getPriceRange(product.variants)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm\",\n                    children: [((_product$variants = product.variants) === null || _product$variants === void 0 ? void 0 : _product$variants.length) || 0, \" variant\", (((_product$variants2 = product.variants) === null || _product$variants2 === void 0 ? void 0 : _product$variants2.length) || 0) !== 1 ? 's' : '']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4\",\n                  children: lowStockVariants.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-2 text-orange-600\",\n                    children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 294,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium\",\n                      children: \"Low Stock\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 295,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 29\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-green-600 text-sm font-medium\",\n                    children: \"In Stock\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-end gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        setViewProduct(product);\n                        setShowViewModal(true);\n                      },\n                      className: \"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors\",\n                      title: \"View Details\",\n                      children: /*#__PURE__*/_jsxDEV(Eye, {\n                        size: 18\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 311,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 303,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        setEditProduct(product);\n                        setShowEditModal(true);\n                      },\n                      className: \"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded-lg transition-colors\",\n                      title: \"Edit Product\",\n                      children: /*#__PURE__*/_jsxDEV(Pencil, {\n                        size: 18\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 321,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 313,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleDelete(product._id),\n                      className: \"p-2 text-red-500 hover:text-red-700 hover:bg-red-100 rounded-lg transition-colors\",\n                      title: \"Delete Product\",\n                      disabled: loading,\n                      children: /*#__PURE__*/_jsxDEV(Trash2, {\n                        size: 18\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 329,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 323,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 25\n                }, this)]\n              }, product._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 23\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"6\",\n                className: \"px-6 py-12 text-center text-gray-500\",\n                children: [/*#__PURE__*/_jsxDEV(Package, {\n                  size: 48,\n                  className: \"mx-auto mb-4 text-gray-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg font-medium\",\n                  children: [\"No products found in \", active]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm\",\n                  children: \"Add your first product to get started.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setShowAddModal(true),\n      disabled: loading,\n      className: \"mt-6 flex items-center gap-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-6 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium\",\n      children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this), \" Add New Product\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 7\n    }, this), showAddModal && /*#__PURE__*/_jsxDEV(ProductModal, {\n      title: \"Add New Product\",\n      category: active,\n      onClose: closeModals,\n      onSubmit: handleAddProduct,\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 9\n    }, this), showEditModal && editProduct && /*#__PURE__*/_jsxDEV(ProductModal, {\n      title: \"Edit Product\",\n      product: editProduct,\n      category: active,\n      onClose: closeModals,\n      onSubmit: handleEditProduct,\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 9\n    }, this), showViewModal && viewProduct && /*#__PURE__*/_jsxDEV(ProductViewModal, {\n      product: viewProduct,\n      onClose: closeModals\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 5\n  }, this);\n}\n_s(DistributorProducts, \"r7E0GAlzFJd1bIpHsMhG/Mix0RE=\", false, function () {\n  return [useAuth];\n});\n_c = DistributorProducts;\nfunction ProductModal({\n  title,\n  product = {},\n  category,\n  onClose,\n  onSubmit,\n  loading = false\n}) {\n  _s2();\n  var _product$variants3;\n  const [name, setName] = useState(product.name || \"\");\n  const [icon, setIcon] = useState(product.icon || \"📦\");\n  const [variants, setVariants] = useState(((_product$variants3 = product.variants) === null || _product$variants3 === void 0 ? void 0 : _product$variants3.length) > 0 ? product.variants.map(v => ({\n    ...v,\n    stock: v.stock || 0,\n    sellingPrice: v.sellingPrice || 0,\n    costPrice: v.costPrice || 0\n  })) : [{\n    id: Date.now(),\n    name: \"\",\n    stock: 0,\n    sellingPrice: 0,\n    costPrice: 0,\n    sku: \"\",\n    expiry: \"\"\n  }]);\n  const [errors, setErrors] = useState({});\n  const validateForm = () => {\n    const newErrors = {};\n    if (!name.trim()) {\n      newErrors.name = \"Product name is required\";\n    }\n    variants.forEach((variant, index) => {\n      if (!variant.name.trim()) {\n        newErrors[`variant_${index}_name`] = \"Variant name is required\";\n      }\n      if (Number(variant.sellingPrice) <= 0) {\n        newErrors[`variant_${index}_sellingPrice`] = \"Selling price must be greater than 0\";\n      }\n      if (Number(variant.costPrice) < 0) {\n        newErrors[`variant_${index}_costPrice`] = \"Cost price cannot be negative\";\n      }\n      if (Number(variant.stock) < 0) {\n        newErrors[`variant_${index}_stock`] = \"Stock cannot be negative\";\n      }\n    });\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const handleAddVariant = () => {\n    setVariants(prev => [...prev, {\n      id: Date.now(),\n      name: \"\",\n      stock: 0,\n      sellingPrice: 0,\n      costPrice: 0,\n      sku: \"\",\n      expiry: \"\"\n    }]);\n  };\n  const handleRemoveVariant = index => {\n    if (variants.length > 1) {\n      setVariants(prev => prev.filter((_, i) => i !== index));\n    }\n  };\n  const handleVariantChange = (index, field, value) => {\n    setVariants(prev => prev.map((variant, i) => i === index ? {\n      ...variant,\n      [field]: value\n    } : variant));\n\n    // Clear specific error when user starts typing\n    if (errors[`variant_${index}_${field}`]) {\n      setErrors(prev => ({\n        ...prev,\n        [`variant_${index}_${field}`]: undefined\n      }));\n    }\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!validateForm()) return;\n    const data = {\n      ...product,\n      name: name.trim(),\n      icon,\n      category,\n      variants: variants.map(variant => ({\n        ...variant,\n        name: variant.name.trim(),\n        stock: Number(variant.stock) || 0,\n        sellingPrice: Number(variant.sellingPrice) || 0,\n        costPrice: Number(variant.costPrice) || 0,\n        sku: variant.sku.trim()\n      }))\n    };\n    onSubmit(data);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-blue-800\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-500 hover:text-gray-700 p-1\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold mb-2 text-gray-700\",\n              children: \"Product Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Enter product name\",\n              value: name,\n              onChange: e => {\n                setName(e.target.value);\n                if (errors.name) setErrors(prev => ({\n                  ...prev,\n                  name: undefined\n                }));\n              },\n              className: `w-full border-2 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${errors.name ? 'border-red-500' : 'border-gray-300'}`,\n              disabled: loading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 15\n            }, this), errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-sm mt-1\",\n              children: errors.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold mb-2 text-gray-700\",\n              children: \"Product Icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\uD83D\\uDCE6\",\n              value: icon,\n              onChange: e => setIcon(e.target.value),\n              className: \"w-full border-2 border-gray-300 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              disabled: loading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-800\",\n              children: \"Product Variants *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleAddVariant,\n              className: \"text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1\",\n              disabled: loading,\n              children: [/*#__PURE__*/_jsxDEV(PlusCircle, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 17\n              }, this), \" Add Variant\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: variants.map((variant, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-2 border-gray-200 rounded-lg p-4 bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-gray-700\",\n                  children: [\"Variant \", index + 1]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 21\n                }, this), variants.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => handleRemoveVariant(index),\n                  className: \"text-red-500 hover:text-red-700 font-medium\",\n                  disabled: loading,\n                  children: \"Remove\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Variant Name *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 562,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    placeholder: \"e.g., 500ml, Large, Red\",\n                    value: variant.name,\n                    onChange: e => handleVariantChange(index, \"name\", e.target.value),\n                    className: `w-full border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${errors[`variant_${index}_name`] ? 'border-red-500' : 'border-gray-300'}`,\n                    disabled: loading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 563,\n                    columnNumber: 23\n                  }, this), errors[`variant_${index}_name`] && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-red-500 text-xs mt-1\",\n                    children: errors[`variant_${index}_name`]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 574,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 561,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"SKU\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 579,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    placeholder: \"Auto-generated if empty\",\n                    value: variant.sku,\n                    onChange: e => handleVariantChange(index, \"sku\", e.target.value),\n                    className: \"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                    disabled: loading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 580,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 578,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 md:grid-cols-4 gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Stock *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 593,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    placeholder: \"0\",\n                    value: variant.stock,\n                    onChange: e => handleVariantChange(index, \"stock\", e.target.value),\n                    className: `w-full border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${errors[`variant_${index}_stock`] ? 'border-red-500' : 'border-gray-300'}`,\n                    min: \"0\",\n                    disabled: loading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 594,\n                    columnNumber: 23\n                  }, this), errors[`variant_${index}_stock`] && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-red-500 text-xs mt-1\",\n                    children: errors[`variant_${index}_stock`]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 606,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 592,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Selling Price *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 611,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    placeholder: \"0.00\",\n                    value: variant.sellingPrice,\n                    onChange: e => handleVariantChange(index, \"sellingPrice\", e.target.value),\n                    className: `w-full border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${errors[`variant_${index}_sellingPrice`] ? 'border-red-500' : 'border-gray-300'}`,\n                    min: \"0\",\n                    step: \"0.01\",\n                    disabled: loading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 612,\n                    columnNumber: 23\n                  }, this), errors[`variant_${index}_sellingPrice`] && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-red-500 text-xs mt-1\",\n                    children: errors[`variant_${index}_sellingPrice`]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 625,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 610,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Cost Price *\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 630,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    placeholder: \"0.00\",\n                    value: variant.costPrice,\n                    onChange: e => handleVariantChange(index, \"costPrice\", e.target.value),\n                    className: `w-full border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${errors[`variant_${index}_costPrice`] ? 'border-red-500' : 'border-gray-300'}`,\n                    min: \"0\",\n                    step: \"0.01\",\n                    disabled: loading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 631,\n                    columnNumber: 23\n                  }, this), errors[`variant_${index}_costPrice`] && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-red-500 text-xs mt-1\",\n                    children: errors[`variant_${index}_costPrice`]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 644,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 629,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                    children: \"Expiry Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 649,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"date\",\n                    value: variant.expiry && variant.expiry !== 'N/A' ? variant.expiry : '',\n                    onChange: e => handleVariantChange(index, \"expiry\", e.target.value || 'N/A'),\n                    className: \"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                    disabled: loading\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 650,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 648,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 591,\n                columnNumber: 19\n              }, this)]\n            }, variant.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 543,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end gap-4 pt-4 border-t\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: onClose,\n            className: \"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors\",\n            disabled: loading,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\",\n            disabled: loading,\n            children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 678,\n              columnNumber: 27\n            }, this), loading ? 'Saving...' : 'Save Product']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 485,\n    columnNumber: 5\n  }, this);\n}\n_s2(ProductModal, \"CU4lHKdawK/hJRbocsakKIv5fPI=\");\n_c2 = ProductModal;\nfunction ProductViewModal({\n  product,\n  onClose\n}) {\n  var _product$variants4;\n  const getTotalStock = variants => {\n    return (variants || []).reduce((sum, variant) => sum + (Number(variant.stock) || 0), 0);\n  };\n  const getTotalValue = variants => {\n    return (variants || []).reduce((sum, variant) => sum + (Number(variant.stock) || 0) * (Number(variant.sellingPrice) || 0), 0);\n  };\n  const getVariantProfit = variant => {\n    const selling = Number(variant.sellingPrice) || 0;\n    const cost = Number(variant.costPrice) || 0;\n    const profit = selling - cost;\n    const margin = cost > 0 ? profit / cost * 100 : 0;\n    return {\n      profit,\n      margin\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-blue-800\",\n          children: \"Product Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 709,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 714,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 710,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 708,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-4 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-4xl\",\n              children: product.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 722,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-2xl font-bold text-gray-900\",\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 724,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-blue-600 font-medium\",\n                children: [\"Category: \", product.category]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: [\"Product ID: \", product.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 726,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 723,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 721,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white p-4 rounded-lg shadow-sm border\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-2xl font-bold text-blue-600\",\n                  children: getTotalStock(product.variants)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 734,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Total Stock\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 735,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 733,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 732,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white p-4 rounded-lg shadow-sm border\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-2xl font-bold text-green-600\",\n                  children: [\"\\u20B9\", getTotalValue(product.variants).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 740,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Total Value\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 741,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 739,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white p-4 rounded-lg shadow-sm border\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-2xl font-bold text-purple-600\",\n                  children: ((_product$variants4 = product.variants) === null || _product$variants4 === void 0 ? void 0 : _product$variants4.length) || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 746,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Variants\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 747,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 745,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 744,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 731,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 720,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-xl font-bold mb-4 text-gray-800\",\n            children: \"Variant Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 755,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid gap-4\",\n            children: (product.variants || []).map((variant, index) => {\n              const {\n                profit,\n                margin\n              } = getVariantProfit(variant);\n              const stock = Number(variant.stock) || 0;\n              const isLowStock = stock <= 10;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border border-gray-200 rounded-lg p-4 bg-white shadow-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"text-lg font-semibold text-gray-900\",\n                    children: variant.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 765,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `px-3 py-1 rounded-full text-sm font-medium ${isLowStock ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'}`,\n                    children: isLowStock ? 'Low Stock' : 'In Stock'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 766,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 764,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-gray-50 p-3 rounded-lg\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600 font-medium block\",\n                      children: \"SKU\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 775,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-mono\",\n                      children: variant.sku || 'Not set'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 776,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 774,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-gray-50 p-3 rounded-lg\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600 font-medium block\",\n                      children: \"Stock\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 780,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `font-bold ${isLowStock ? 'text-red-600' : 'text-gray-900'}`,\n                      children: [stock, \" units\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 781,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 779,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-gray-50 p-3 rounded-lg\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600 font-medium block\",\n                      children: \"Selling Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 787,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-bold text-green-600\",\n                      children: [\"\\u20B9\", Number(variant.sellingPrice) || 0]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 788,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 786,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-gray-50 p-3 rounded-lg\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600 font-medium block\",\n                      children: \"Cost Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 792,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-bold text-blue-600\",\n                      children: [\"\\u20B9\", Number(variant.costPrice) || 0]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 793,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 791,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-gray-50 p-3 rounded-lg\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600 font-medium block\",\n                      children: \"Profit Margin\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 797,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `font-bold ${profit > 0 ? 'text-green-600' : 'text-red-600'}`,\n                      children: [\"\\u20B9\", profit.toFixed(2), \" (\", margin.toFixed(1), \"%)\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 798,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 796,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-gray-50 p-3 rounded-lg\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600 font-medium block\",\n                      children: \"Expiry\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 804,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-900\",\n                      children: variant.expiry === 'N/A' || !variant.expiry ? 'No expiry' : variant.expiry\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 805,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 803,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 773,\n                  columnNumber: 21\n                }, this)]\n              }, variant.id || index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 763,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 754,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 718,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end mt-8 pt-4 border-t\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 818,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 817,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 707,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 706,\n    columnNumber: 5\n  }, this);\n}\n_c3 = ProductViewModal;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"DistributorProducts\");\n$RefreshReg$(_c2, \"ProductModal\");\n$RefreshReg$(_c3, \"ProductViewModal\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Pencil","Trash2","PlusCircle","Eye","AlertTriangle","Package","X","API","useAuth","jsxDEV","_jsxDEV","DistributorProducts","_s","_products$active","_products$active2","user","distributorId","_id","active","setActive","products","setProducts","showAddModal","setShowAddModal","showEditModal","setShowEditModal","showViewModal","setShowViewModal","editProduct","setEditProduct","viewProduct","setViewProduct","loading","setLoading","error","setError","distributorships","fetchProducts","response","get","params","groupedProducts","data","reduce","acc","product","category","push","console","handleAddProduct","_product$name","name","trim","productId","Date","now","variantsWithSKU","variants","map","variant","index","id","sku","expiry","stock","Number","sellingPrice","costPrice","post","prev","handleEditProduct","updated","_updated$name","updatedVariants","put","_prev$active","p","handleDelete","window","confirm","delete","_prev$active2","filter","getTotalStock","sum","getPriceRange","length","prices","v","min","Math","max","getLowStockVariants","closeModals","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","_products$name","_product$variants","_product$variants2","lowStockVariants","icon","title","disabled","colSpan","ProductModal","onClose","onSubmit","ProductViewModal","_c","_s2","_product$variants3","setName","setIcon","setVariants","errors","setErrors","validateForm","newErrors","forEach","Object","keys","handleAddVariant","handleRemoveVariant","_","i","handleVariantChange","field","value","undefined","handleSubmit","e","preventDefault","type","placeholder","onChange","target","step","_c2","_product$variants4","getTotalValue","getVariantProfit","selling","cost","profit","margin","toFixed","isLowStock","_c3","$RefreshReg$"],"sources":["/Users/nishant/Desktop/sledgeNew/Test/frontend/src/pages/Distributors/distributorProducts.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { Pencil, Trash2, PlusCircle, Eye, AlertTriangle, Package, X } from \"lucide-react\";\nimport API from \"../../api\";\nimport { useAuth } from \"../../components/AuthContext\";\n\nexport default function DistributorProducts() {\n  const { user } = useAuth();\n  const distributorId = user?._id;\n  const [active, setActive] = useState(\"Groceries\");\n  const [products, setProducts] = useState({});\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [showViewModal, setShowViewModal] = useState(false);\n  const [editProduct, setEditProduct] = useState(null);\n  const [viewProduct, setViewProduct] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const distributorships = [\"Groceries\", \"Beverages\", \"Personal Care\"];\n\n  // Fetch products from the backend\n  const fetchProducts = useCallback(async () => {\n    if (!distributorId) return;\n    \n    setLoading(true);\n    setError(\"\");\n    \n    try {\n      const response = await API.get(\"/products\", {\n        params: { distributorId },\n      });\n      \n      const groupedProducts = response.data.reduce((acc, product) => {\n        const category = product.category || 'Uncategorized';\n        acc[category] = acc[category] || [];\n        acc[category].push(product);\n        return acc;\n      }, {});\n      \n      setProducts(groupedProducts);\n    } catch (error) {\n      console.error(\"Error fetching products:\", error);\n      setError(\"Failed to fetch products. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  }, [distributorId]);\n\n  useEffect(() => {\n    fetchProducts();\n  }, [fetchProducts]);\n\n  const handleAddProduct = async (product) => {\n    if (!product.name?.trim()) {\n      setError(\"Product name is required\");\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(\"\");\n      \n      // Generate unique product ID\n      const productId = Date.now();\n      \n      // Generate SKUs for variants that don't have them\n      const variantsWithSKU = product.variants.map((variant, index) => ({\n        ...variant,\n        id: variant.id || Date.now() + index,\n        sku: variant.sku || `${productId}-VAR-${index + 1}`,\n        expiry: variant.expiry || 'N/A',\n        stock: Number(variant.stock) || 0,\n        sellingPrice: Number(variant.sellingPrice) || 0,\n        costPrice: Number(variant.costPrice) || 0\n      }));\n\n      const response = await API.post(\"/products\", {\n        ...product,\n        id: productId,\n        user: user,\n        distributorships: [active],\n        category: active,\n\n        variants: variantsWithSKU,\n      });\n      \n      setProducts((prev) => ({\n        ...prev,\n        [active]: [...(prev[active] || []), response.data],\n      }));\n      \n      setShowAddModal(false);\n    } catch (error) {\n      console.error(\"Error adding product:\", error);\n      setError(\"Failed to add product. Please check all required fields.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEditProduct = async (updated) => {\n    if (!updated.name?.trim()) {\n      setError(\"Product name is required\");\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(\"\");\n      \n      // Ensure all variants have required fields\n      const updatedVariants = updated.variants.map((variant) => ({\n        ...variant,\n        sku: variant.sku || `${updated.id}-VAR-${variant.id}`,\n        expiry: variant.expiry || 'N/A',\n        stock: Number(variant.stock) || 0,\n        sellingPrice: Number(variant.sellingPrice) || 0,\n        costPrice: Number(variant.costPrice) || 0\n      }));\n\n      const response = await API.put(`/products/${updated._id}`, {\n        ...updated,\n        distributorId,\n        distributorships: [active],\n        variants: updatedVariants,\n      });\n      \n      setProducts((prev) => ({\n        ...prev,\n        [active]: prev[active]?.map((p) => (p._id === updated._id ? response.data : p)) || [],\n      }));\n      \n      setShowEditModal(false);\n      setEditProduct(null);\n    } catch (error) {\n      console.error(\"Error updating product:\", error);\n      setError(\"Failed to update product. Please check all required fields.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDelete = async (id) => {\n    if (!window.confirm(\"Are you sure you want to delete this product?\")) return;\n    \n    try {\n      setLoading(true);\n      setError(\"\");\n      \n      await API.delete(`/products/${id}`);\n      \n      setProducts((prev) => ({\n        ...prev,\n        [active]: prev[active]?.filter((p) => p._id !== id) || [],\n      }));\n    } catch (error) {\n      console.error(\"Error deleting product:\", error);\n      setError(\"Failed to delete product. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getTotalStock = (variants) => {\n    return (variants || []).reduce((sum, variant) => sum + (Number(variant.stock) || 0), 0);\n  };   \n\n  const getPriceRange = (variants) => {\n    if (!variants?.length) return \"₹0\";\n    \n    const prices = variants\n      .map(v => Number(v.sellingPrice) || 0)\n      .filter(p => p > 0);\n    \n    if (!prices.length) return \"₹0\";\n    \n    const min = Math.min(...prices);\n    const max = Math.max(...prices);\n    return min === max ? `₹${min}` : `₹${min} - ₹${max}`;\n  };\n\n  const getLowStockVariants = (variants) => {\n    return (variants || []).filter((v) => (Number(v.stock) || 0) <= 10);\n  };\n\n  const closeModals = () => {\n    setShowAddModal(false);\n    setShowEditModal(false);\n    setShowViewModal(false);\n    setEditProduct(null);\n    setViewProduct(null);\n  };\n\n  if (!distributorId) {\n    return (\n      <div className=\"p-4 text-center\">\n        <div className=\"text-red-600\">Please log in to manage products.</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-4 max-w-7xl mx-auto\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-3xl font-bold text-blue-800\">Product Management</h1>\n        <div className=\"text-sm text-gray-600 bg-blue-50 px-3 py-1 rounded-full\">\n          Total Products: {products[active]?.length || 0}\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg flex justify-between items-center\">\n          <span>{error}</span>\n          <button \n            onClick={() => setError(\"\")}\n            className=\"text-red-700 hover:text-red-900\"\n          >\n            <X size={16} />\n          </button>\n        </div>\n      )}\n\n      <div className=\"flex flex-wrap gap-3 mb-6\">\n        {distributorships.map((name) => (\n          <button\n            key={name}\n            onClick={() => setActive(name)}\n            className={`px-5 py-2 rounded-full border-2 transition-all duration-200 font-medium ${\n              active === name \n                ? \"bg-blue-700 text-white border-blue-700 shadow-lg\" \n                : \"bg-white text-blue-700 border-blue-200 hover:bg-blue-50\"\n            }`}\n          >\n            {name} ({products[name]?.length || 0})\n          </button>\n        ))}\n      </div>\n\n      {loading ? (\n        <div className=\"text-center py-12\">\n          <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n          <p className=\"mt-2 text-gray-600\">Loading products...</p>\n        </div>\n      ) : (\n        <div className=\"bg-white rounded-xl shadow-lg overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full\">\n              <thead className=\"bg-gradient-to-r from-blue-600 to-blue-700 text-white\">\n                <tr>\n                  <th className=\"px-6 py-4 text-left font-semibold\">Product</th>\n                  <th className=\"px-6 py-4 text-left font-semibold\">Total Stock</th>\n                  <th className=\"px-6 py-4 text-left font-semibold\">Price Range</th>\n                  <th className=\"px-6 py-4 text-left font-semibold\">Variants</th>\n                  <th className=\"px-6 py-4 text-left font-semibold\">Status</th>\n                  <th className=\"px-6 py-4 text-right font-semibold\">Actions</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-200\">\n                {products[active]?.length ? (\n                  products[active].map((product, index) => {\n                    const lowStockVariants = getLowStockVariants(product.variants);\n                    return (\n                      <tr\n                        key={product._id}\n                        className={`hover:bg-blue-50 transition-colors ${\n                          index % 2 === 0 ? 'bg-gray-50' : 'bg-white'\n                        }`}\n                      >\n                        <td className=\"px-6 py-4\">\n                          <div className=\"flex items-center gap-3\">\n                            <span className=\"text-2xl\">{product.icon}</span>\n                            <div>\n                              <div className=\"font-semibold text-gray-900\">{product.name}</div>\n                              <div className=\"text-sm text-gray-500\">ID: {product.id}</div>\n                            </div>\n                          </div>\n                        </td>\n                        <td className=\"px-6 py-4\">\n                          <div className=\"flex items-center gap-2\">\n                            <Package size={18} className=\"text-gray-500\" />\n                            <span className=\"font-medium\">{getTotalStock(product.variants)}</span>\n                          </div>\n                        </td>\n                        <td className=\"px-6 py-4 font-semibold text-green-600\">\n                          {getPriceRange(product.variants)}\n                        </td>\n                        <td className=\"px-6 py-4\">\n                          <span className=\"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm\">\n                            {product.variants?.length || 0} variant{(product.variants?.length || 0) !== 1 ? 's' : ''}\n                          </span>\n                        </td>\n                        <td className=\"px-6 py-4\">\n                          {lowStockVariants.length > 0 ? (\n                            <div className=\"flex items-center gap-2 text-orange-600\">\n                              <AlertTriangle size={16} />\n                              <span className=\"text-sm font-medium\">Low Stock</span>\n                            </div>\n                          ) : (\n                            <span className=\"text-green-600 text-sm font-medium\">In Stock</span>\n                          )}\n                        </td>\n                        <td className=\"px-6 py-4\">\n                          <div className=\"flex justify-end gap-2\">\n                            <button\n                              onClick={() => {\n                                setViewProduct(product);\n                                setShowViewModal(true);\n                              }}\n                              className=\"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors\"\n                              title=\"View Details\"\n                            >\n                              <Eye size={18} />\n                            </button>\n                            <button\n                              onClick={() => {\n                                setEditProduct(product);\n                                setShowEditModal(true);\n                              }}\n                              className=\"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded-lg transition-colors\"\n                              title=\"Edit Product\"\n                            >\n                              <Pencil size={18} />\n                            </button>\n                            <button\n                              onClick={() => handleDelete(product._id)}\n                              className=\"p-2 text-red-500 hover:text-red-700 hover:bg-red-100 rounded-lg transition-colors\"\n                              title=\"Delete Product\"\n                              disabled={loading}\n                            >\n                              <Trash2 size={18} />\n                            </button>\n                          </div>\n                        </td>\n                      </tr>\n                    );\n                  })\n                ) : (\n                  <tr>\n                    <td colSpan=\"6\" className=\"px-6 py-12 text-center text-gray-500\">\n                      <Package size={48} className=\"mx-auto mb-4 text-gray-300\" />\n                      <p className=\"text-lg font-medium\">No products found in {active}</p>\n                      <p className=\"text-sm\">Add your first product to get started.</p>\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      <button\n        onClick={() => setShowAddModal(true)}\n        disabled={loading}\n        className=\"mt-6 flex items-center gap-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-6 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed font-medium\"\n      >\n        <PlusCircle size={20} /> Add New Product\n      </button>\n\n      {showAddModal && (\n        <ProductModal\n          title=\"Add New Product\"\n          category={active}\n          onClose={closeModals}\n          onSubmit={handleAddProduct}\n          loading={loading}\n        />\n      )}\n\n      {showEditModal && editProduct && (\n        <ProductModal\n          title=\"Edit Product\"\n          product={editProduct}\n          category={active}\n          onClose={closeModals}\n          onSubmit={handleEditProduct}\n          loading={loading}\n        />\n      )}\n\n      {showViewModal && viewProduct && (\n        <ProductViewModal\n          product={viewProduct}\n          onClose={closeModals}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction ProductModal({ title, product = {}, category, onClose, onSubmit, loading = false }) {\n  const [name, setName] = useState(product.name || \"\");\n  const [icon, setIcon] = useState(product.icon || \"📦\");\n  const [variants, setVariants] = useState(\n    product.variants?.length > 0 \n      ? product.variants.map(v => ({...v, stock: v.stock || 0, sellingPrice: v.sellingPrice || 0, costPrice: v.costPrice || 0}))\n      : [{ id: Date.now(), name: \"\", stock: 0, sellingPrice: 0, costPrice: 0, sku: \"\", expiry: \"\" }]\n  );\n  const [errors, setErrors] = useState({});\n\n  const validateForm = () => {\n    const newErrors = {};\n    \n    if (!name.trim()) {\n      newErrors.name = \"Product name is required\";\n    }\n    \n    variants.forEach((variant, index) => {\n      if (!variant.name.trim()) {\n        newErrors[`variant_${index}_name`] = \"Variant name is required\";\n      }\n      if (Number(variant.sellingPrice) <= 0) {\n        newErrors[`variant_${index}_sellingPrice`] = \"Selling price must be greater than 0\";\n      }\n      if (Number(variant.costPrice) < 0) {\n        newErrors[`variant_${index}_costPrice`] = \"Cost price cannot be negative\";\n      }\n      if (Number(variant.stock) < 0) {\n        newErrors[`variant_${index}_stock`] = \"Stock cannot be negative\";\n      }\n    });\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleAddVariant = () => {\n    setVariants((prev) => [\n      ...prev,\n      { \n        id: Date.now(), \n        name: \"\", \n        stock: 0, \n        sellingPrice: 0, \n        costPrice: 0, \n        sku: \"\", \n        expiry: \"\" \n      },\n    ]);\n  };\n\n  const handleRemoveVariant = (index) => {\n    if (variants.length > 1) {\n      setVariants((prev) => prev.filter((_, i) => i !== index));\n    }\n  };\n\n  const handleVariantChange = (index, field, value) => {\n    setVariants((prev) =>\n      prev.map((variant, i) =>\n        i === index ? { ...variant, [field]: value } : variant\n      )\n    );\n    \n    // Clear specific error when user starts typing\n    if (errors[`variant_${index}_${field}`]) {\n      setErrors(prev => ({\n        ...prev,\n        [`variant_${index}_${field}`]: undefined\n      }));\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!validateForm()) return;\n    \n    const data = { \n      ...product, \n      name: name.trim(), \n      icon,\n      category,\n      variants: variants.map(variant => ({\n        ...variant,\n        name: variant.name.trim(),\n        stock: Number(variant.stock) || 0,\n        sellingPrice: Number(variant.sellingPrice) || 0,\n        costPrice: Number(variant.costPrice) || 0,\n        sku: variant.sku.trim()\n      }))\n    };\n    onSubmit(data);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4\">\n      <div className=\"bg-white p-6 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h2 className=\"text-2xl font-bold text-blue-800\">{title}</h2>\n          <button\n            onClick={onClose}\n            className=\"text-gray-500 hover:text-gray-700 p-1\"\n          >\n            <X size={24} />\n          </button>\n        </div>\n        \n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-semibold mb-2 text-gray-700\">Product Name *</label>\n              <input\n                type=\"text\"\n                placeholder=\"Enter product name\"\n                value={name}\n                onChange={(e) => {\n                  setName(e.target.value);\n                  if (errors.name) setErrors(prev => ({...prev, name: undefined}));\n                }}\n                className={`w-full border-2 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                  errors.name ? 'border-red-500' : 'border-gray-300'\n                }`}\n                disabled={loading}\n              />\n              {errors.name && <p className=\"text-red-500 text-sm mt-1\">{errors.name}</p>}\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-semibold mb-2 text-gray-700\">Product Icon</label>\n              <input\n                type=\"text\"\n                placeholder=\"📦\"\n                value={icon}\n                onChange={(e) => setIcon(e.target.value)}\n                className=\"w-full border-2 border-gray-300 px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                disabled={loading}\n              />\n            </div>\n          </div>\n\n          <div>\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-800\">Product Variants *</h3>\n              <button\n                type=\"button\"\n                onClick={handleAddVariant}\n                className=\"text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1\"\n                disabled={loading}\n              >\n                <PlusCircle size={16} /> Add Variant\n              </button>\n            </div>\n            \n            <div className=\"space-y-4\">\n              {variants.map((variant, index) => (\n                <div key={variant.id} className=\"border-2 border-gray-200 rounded-lg p-4 bg-gray-50\">\n                  <div className=\"flex justify-between items-center mb-3\">\n                    <span className=\"font-semibold text-gray-700\">Variant {index + 1}</span>\n                    {variants.length > 1 && (\n                      <button\n                        type=\"button\"\n                        onClick={() => handleRemoveVariant(index)}\n                        className=\"text-red-500 hover:text-red-700 font-medium\"\n                        disabled={loading}\n                      >\n                        Remove\n                      </button>\n                    )}\n                  </div>\n                  \n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Variant Name *</label>\n                      <input\n                        type=\"text\"\n                        placeholder=\"e.g., 500ml, Large, Red\"\n                        value={variant.name}\n                        onChange={(e) => handleVariantChange(index, \"name\", e.target.value)}\n                        className={`w-full border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                          errors[`variant_${index}_name`] ? 'border-red-500' : 'border-gray-300'\n                        }`}\n                        disabled={loading}\n                      />\n                      {errors[`variant_${index}_name`] && (\n                        <p className=\"text-red-500 text-xs mt-1\">{errors[`variant_${index}_name`]}</p>\n                      )}\n                    </div>\n                    \n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">SKU</label>\n                      <input\n                        type=\"text\"\n                        placeholder=\"Auto-generated if empty\"\n                        value={variant.sku}\n                        onChange={(e) => handleVariantChange(index, \"sku\", e.target.value)}\n                        className=\"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        disabled={loading}\n                      />\n                    </div>\n                  </div>\n                  \n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Stock *</label>\n                      <input\n                        type=\"number\"\n                        placeholder=\"0\"\n                        value={variant.stock}\n                        onChange={(e) => handleVariantChange(index, \"stock\", e.target.value)}\n                        className={`w-full border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                          errors[`variant_${index}_stock`] ? 'border-red-500' : 'border-gray-300'\n                        }`}\n                        min=\"0\"\n                        disabled={loading}\n                      />\n                      {errors[`variant_${index}_stock`] && (\n                        <p className=\"text-red-500 text-xs mt-1\">{errors[`variant_${index}_stock`]}</p>\n                      )}\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Selling Price *</label>\n                      <input\n                        type=\"number\"\n                        placeholder=\"0.00\"\n                        value={variant.sellingPrice}\n                        onChange={(e) => handleVariantChange(index, \"sellingPrice\", e.target.value)}\n                        className={`w-full border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                          errors[`variant_${index}_sellingPrice`] ? 'border-red-500' : 'border-gray-300'\n                        }`}\n                        min=\"0\"\n                        step=\"0.01\"\n                        disabled={loading}\n                      />\n                      {errors[`variant_${index}_sellingPrice`] && (\n                        <p className=\"text-red-500 text-xs mt-1\">{errors[`variant_${index}_sellingPrice`]}</p>\n                      )}\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Cost Price *</label>\n                      <input\n                        type=\"number\"\n                        placeholder=\"0.00\"\n                        value={variant.costPrice}\n                        onChange={(e) => handleVariantChange(index, \"costPrice\", e.target.value)}\n                        className={`w-full border px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                          errors[`variant_${index}_costPrice`] ? 'border-red-500' : 'border-gray-300'\n                        }`}\n                        min=\"0\"\n                        step=\"0.01\"\n                        disabled={loading}\n                      />\n                      {errors[`variant_${index}_costPrice`] && (\n                        <p className=\"text-red-500 text-xs mt-1\">{errors[`variant_${index}_costPrice`]}</p>\n                      )}\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Expiry Date</label>\n                      <input\n                        type=\"date\"\n                        value={variant.expiry && variant.expiry !== 'N/A' ? variant.expiry : ''}\n                        onChange={(e) => handleVariantChange(index, \"expiry\", e.target.value || 'N/A')}\n                        className=\"w-full border border-gray-300 px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        disabled={loading}\n                      />\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        \n          <div className=\"flex justify-end gap-4 pt-4 border-t\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors\"\n              disabled={loading}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n              disabled={loading}\n            >\n              {loading && <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>}\n              {loading ? 'Saving...' : 'Save Product'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nfunction ProductViewModal({ product, onClose }) {\n  const getTotalStock = (variants) => {\n    return (variants || []).reduce((sum, variant) => sum + (Number(variant.stock) || 0), 0);\n  };\n\n  const getTotalValue = (variants) => {\n    return (variants || []).reduce((sum, variant) => sum + ((Number(variant.stock) || 0) * (Number(variant.sellingPrice) || 0)), 0);\n  };\n\n  const getVariantProfit = (variant) => {\n    const selling = Number(variant.sellingPrice) || 0;\n    const cost = Number(variant.costPrice) || 0;\n    const profit = selling - cost;\n    const margin = cost > 0 ? (profit / cost) * 100 : 0;\n    return { profit, margin };\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4\">\n      <div className=\"bg-white p-6 rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h2 className=\"text-2xl font-bold text-blue-800\">Product Details</h2>\n          <button\n            onClick={onClose}\n            className=\"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100 transition-colors\"\n          >\n            <X size={24} />\n          </button>\n        </div>\n        \n        <div className=\"space-y-6\">\n          {/* Product Header */}\n          <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-200\">\n            <div className=\"flex items-center gap-4 mb-4\">\n              <span className=\"text-4xl\">{product.icon}</span>\n              <div>\n                <h3 className=\"text-2xl font-bold text-gray-900\">{product.name}</h3>\n                <p className=\"text-blue-600 font-medium\">Category: {product.category}</p>\n                <p className=\"text-sm text-gray-500\">Product ID: {product.id}</p>\n              </div>\n            </div>\n            \n            {/* Summary Statistics */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\n                <div className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-blue-600\">{getTotalStock(product.variants)}</div>\n                  <div className=\"text-sm text-gray-600\">Total Stock</div>\n                </div>\n              </div>\n              <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\n                <div className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-green-600\">₹{getTotalValue(product.variants).toFixed(2)}</div>\n                  <div className=\"text-sm text-gray-600\">Total Value</div>\n                </div>\n              </div>\n              <div className=\"bg-white p-4 rounded-lg shadow-sm border\">\n                <div className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-purple-600\">{product.variants?.length || 0}</div>\n                  <div className=\"text-sm text-gray-600\">Variants</div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          {/* Variants Details */}\n          <div>\n            <h4 className=\"text-xl font-bold mb-4 text-gray-800\">Variant Details</h4>\n            <div className=\"grid gap-4\">\n              {(product.variants || []).map((variant, index) => {\n                const { profit, margin } = getVariantProfit(variant);\n                const stock = Number(variant.stock) || 0;\n                const isLowStock = stock <= 10;\n                \n                return (\n                  <div key={variant.id || index} className=\"border border-gray-200 rounded-lg p-4 bg-white shadow-sm\">\n                    <div className=\"flex justify-between items-start mb-3\">\n                      <h5 className=\"text-lg font-semibold text-gray-900\">{variant.name}</h5>\n                      <span className={`px-3 py-1 rounded-full text-sm font-medium ${\n                        isLowStock ? 'bg-red-100 text-red-800' : 'bg-green-100 text-green-800'\n                      }`}>\n                        {isLowStock ? 'Low Stock' : 'In Stock'}\n                      </span>\n                    </div>\n                    \n                    <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 text-sm\">\n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <span className=\"text-gray-600 font-medium block\">SKU</span>\n                        <span className=\"font-mono\">{variant.sku || 'Not set'}</span>\n                      </div>\n                      \n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <span className=\"text-gray-600 font-medium block\">Stock</span>\n                        <span className={`font-bold ${isLowStock ? 'text-red-600' : 'text-gray-900'}`}>\n                          {stock} units\n                        </span>\n                      </div>\n                      \n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <span className=\"text-gray-600 font-medium block\">Selling Price</span>\n                        <span className=\"font-bold text-green-600\">₹{Number(variant.sellingPrice) || 0}</span>\n                      </div>\n                      \n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <span className=\"text-gray-600 font-medium block\">Cost Price</span>\n                        <span className=\"font-bold text-blue-600\">₹{Number(variant.costPrice) || 0}</span>\n                      </div>\n                      \n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <span className=\"text-gray-600 font-medium block\">Profit Margin</span>\n                        <span className={`font-bold ${profit > 0 ? 'text-green-600' : 'text-red-600'}`}>\n                          ₹{profit.toFixed(2)} ({margin.toFixed(1)}%)\n                        </span>\n                      </div>\n                      \n                      <div className=\"bg-gray-50 p-3 rounded-lg\">\n                        <span className=\"text-gray-600 font-medium block\">Expiry</span>\n                        <span className=\"text-gray-900\">\n                          {variant.expiry === 'N/A' || !variant.expiry ? 'No expiry' : variant.expiry}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"flex justify-end mt-8 pt-4 border-t\">\n          <button\n            onClick={onClose}\n            className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}